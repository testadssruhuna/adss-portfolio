<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ADSS Portfolio System</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js"></script>
</head>
<body class="bg-gray-100">

  <!-- Login Section -->
  <div id="loginSection" class="flex justify-center items-center h-screen">
    <div class="bg-white shadow-lg rounded-xl p-8 w-96">
      <h2 class="text-xl font-bold text-center mb-6">Admin Login</h2>
      <input id="username" type="text" placeholder="Username" class="w-full mb-3 p-2 border rounded">
      <input id="password" type="password" placeholder="Password" class="w-full mb-3 p-2 border rounded">
      <button onclick="login()" class="w-full bg-blue-600 text-white p-2 rounded">Login</button>
      <p id="loginError" class="text-red-500 text-sm mt-2"></p>
    </div>
  </div>

  <!-- Dashboard Section -->
  <div id="dashboardSection" class="hidden p-6">
    <h1 class="text-2xl font-bold mb-4">ADSS Admin Dashboard</h1>

    <!-- OC Contribution Form -->
    <div class="bg-white p-4 rounded shadow mb-6">
      <h2 class="text-lg font-semibold mb-3">OC Contribution Form</h2>
      <input id="ocEventName" type="text" placeholder="Event Name" class="w-full mb-2 p-2 border rounded">
      <input id="ocDate" type="date" class="w-full mb-2 p-2 border rounded">
      <input id="ocIndex" type="text" placeholder="Index Number" class="w-full mb-2 p-2 border rounded">
      <input id="ocPosition" type="text" placeholder="OC Position" class="w-full mb-2 p-2 border rounded">
      <button onclick="saveOC()" class="bg-green-600 text-white px-4 py-2 rounded">Save</button>
    </div>

    <!-- Executive Board Form -->
    <div class="bg-white p-4 rounded shadow mb-6">
      <h2 class="text-lg font-semibold mb-3">Executive Board Position Form</h2>
      <input id="ebPosition" type="text" placeholder="Position" class="w-full mb-2 p-2 border rounded">
      <input id="ebIndex" type="text" placeholder="Index Number" class="w-full mb-2 p-2 border rounded">
      <input id="ebStart" type="date" class="w-full mb-2 p-2 border rounded">
      <input id="ebEnd" type="date" class="w-full mb-2 p-2 border rounded">
      <button onclick="saveEB()" class="bg-green-600 text-white px-4 py-2 rounded">Save</button>
    </div>

    <!-- Member Position Form -->
    <div class="bg-white p-4 rounded shadow mb-6">
      <h2 class="text-lg font-semibold mb-3">Member Position Form</h2>
      <input id="teamIndex" type="text" placeholder="Index Number" class="w-full mb-2 p-2 border rounded">
      <input id="teamName" type="text" placeholder="Team Name" class="w-full mb-2 p-2 border rounded">
      <button onclick="saveTeam()" class="bg-green-600 text-white px-4 py-2 rounded">Save</button>
    </div>

    <!-- Search Profile -->
    <div class="bg-white p-4 rounded shadow mb-6">
      <h2 class="text-lg font-semibold mb-3">Search Profile</h2>
      <input id="searchIndex" type="text" placeholder="Enter Index Number" class="w-full mb-2 p-2 border rounded">
      <button onclick="searchProfile()" class="bg-blue-600 text-white px-4 py-2 rounded">Search</button>
      <div id="profileResult" class="mt-4"></div>
    </div>
  </div>

  <script>
    // ðŸ”¹ Replace this with your Firebase Config
    const firebaseConfig = {
      apiKey: "YOUR_KEY",
      authDomain: "YOUR_PROJECT.firebaseapp.com",
      projectId: "YOUR_PROJECT",
      storageBucket: "YOUR_PROJECT.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Login Function
    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      if (user === "admin" && pass === "admin123") {
        document.getElementById("loginSection").classList.add("hidden");
        document.getElementById("dashboardSection").classList.remove("hidden");
      } else {
        document.getElementById("loginError").innerText = "Invalid credentials!";
      }
    }

    // Save OC Contribution
    function saveOC() {
      db.collection("oc_contributions").add({
        eventName: document.getElementById("ocEventName").value,
        date: document.getElementById("ocDate").value,
        index: document.getElementById("ocIndex").value,
        position: document.getElementById("ocPosition").value
      }).then(() => alert("OC Contribution Saved!"));
    }

    // Save Executive Board
    function saveEB() {
      db.collection("executive_board").add({
        position: document.getElementById("ebPosition").value,
        index: document.getElementById("ebIndex").value,
        startDate: document.getElementById("ebStart").value,
        endDate: document.getElementById("ebEnd").value
      }).then(() => alert("Executive Board Position Saved!"));
    }

    // Save Team Membership
    function saveTeam() {
      db.collection("team_membership").add({
        index: document.getElementById("teamIndex").value,
        team: document.getElementById("teamName").value
      }).then(() => alert("Team Membership Saved!"));
    }

    // Search Profile
    async function searchProfile() {
      const index = document.getElementById("searchIndex").value;
      let resultHTML = `<h3 class='font-bold text-lg mb-2'>Profile for ${index}</h3>`;

      // Fetch OC
      const ocSnap = await db.collection("oc_contributions").where("index", "==", index).get();
      resultHTML += "<h4 class='font-semibold'>OC Contributions:</h4><ul>";
      ocSnap.forEach(doc => {
        let d = doc.data();
        resultHTML += `<li>${d.eventName} (${d.date}) - ${d.position}</li>`;
      });
      resultHTML += "</ul>";

      // Fetch Executive Board
      const ebSnap = await db.collection("executive_board").where("index", "==", index).get();
      resultHTML += "<h4 class='font-semibold mt-2'>Executive Board:</h4><ul>";
      ebSnap.forEach(doc => {
        let d = doc.data();
        resultHTML += `<li>${d.position} (${d.startDate} to ${d.endDate})</li>`;
      });
      resultHTML += "</ul>";

      // Fetch Team Membership
      const teamSnap = await db.collection("team_membership").where("index", "==", index).get();
      resultHTML += "<h4 class='font-semibold mt-2'>Team Membership:</h4><ul>";
      teamSnap.forEach(doc => {
        let d = doc.data();
        resultHTML += `<li>${d.team}</li>`;
      });
      resultHTML += "</ul>";

      document.getElementById("profileResult").innerHTML = resultHTML;
    }
  </script>
</body>
</html>

